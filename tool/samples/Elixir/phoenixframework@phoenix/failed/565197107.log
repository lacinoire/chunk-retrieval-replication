travis_fold:start:worker_info[0K[33;1mWorker information[0m
hostname: 974c9c50-e173-48a3-a129-51b13a6c7082@1.worker-org-b6c9dcb4d-6jqwd.gce-production-1
version: v6.2.1 https://github.com/travis-ci/worker/tree/4e3246c044eb4915c2378ffacd0b3d3ed0136bba
instance: travis-job-ecd1bcfb-41b1-4cba-ab28-7640037d0ff7 travis-ci-opal-xenial-1553530491-f909ac5 (via amqp)
startup: 6.953379481s
travis_fold:end:worker_info[0Ktravis_fold:start:system_info[0K[33;1mBuild system information[0m
Build language: elixir
Build group: stable
Build dist: xenial
Build id: 565197107
Job id: 565197112
Runtime kernel version: 4.15.0-1028-gcp
travis-build version: 24c88d12b
[34m[1mBuild image provisioning date and time[0m
Mon Mar 25 16:52:50 UTC 2019
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 16.04.6 LTS
Release:	16.04
Codename:	xenial
[34m[1mSystemd Version[0m
systemd 229
[34m[1mCookbooks Version[0m
42e42e4 https://github.com/travis-ci/travis-cookbooks/tree/42e42e4
[34m[1mgit version[0m
git version 2.21.0
[34m[1mbash version[0m
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.11) 5.4.0 20160609
[34m[1mdocker version[0m
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
[34m[1mclang version[0m
clang version 7.0.0 (tags/RELEASE_700/final)
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.6.0
[34m[1mshfmt version[0m
v2.6.3
[34m[1mccache version[0m
3.2.4
[34m[1mcmake version[0m
cmake version 3.12.4
[34m[1mheroku version[0m
heroku/7.22.7 linux-x64 node-v11.10.1
[34m[1mimagemagick version[0m
Version: ImageMagick 6.8.9-9 Q16 x86_64 2018-09-28 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.4
[34m[1mmercurial version[0m
version 4.8
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.7.25, for Linux (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.2g  1 Mar 2016
[34m[1mpacker version[0m
1.3.3
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 10.7 (Ubuntu 10.7-1.pgdg16.04+1)
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
[34m[1msudo version[0m
1.8.16
[34m[1mgzip version[0m
gzip 1.6
[34m[1mzip version[0m
Zip 3.0
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:44:48)
[34m[1miptables version[0m
iptables v1.6.0
[34m[1mcurl version[0m
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.17.1 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.1  protocol version 31
[34m[1mgimme version[0m
v1.5.3
[34m[1mnvm version[0m
0.34.0
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.82
[34m[1mphpenv version[0m
rbenv 1.1.2
[34m[1mrvm version[0m
rvm 1.29.7 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 63.0.1
[34m[1mMongoDB version[0m
MongoDB 4.0.7
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.4.21
9.5.16
9.6.12
[34m[1mRedis version[0m
redis-server 5.0.4
[34m[1mkerl list installations[0m
21.1
[34m[1melixirs[0m
=* elixir-1.7.4
[34m[1mrebar --version[0m
rebar 2.6.4 17 20160831_145136 git 2.6.4-dirty
[34m[1mperlbrew list[0m
   5.26                  (5.26.3)            (installed on Mon Mar 25 16:41:45 2019)
   5.26.3                                    (installed on Mon Mar 25 16:41:45 2019)
   5.26-extras           (5.26.2)            (installed on Mon Mar 25 16:45:42 2019)
   5.26-shrplib          (5.26.2)            (installed on Mon Mar 25 16:45:42 2019)
   5.26.2                                    (installed on Mon Mar 25 16:41:51 2019)
   5.24                  (5.24.3)            (installed on Mon Mar 25 16:46:12 2019)
   5.24.3                                    (installed on Mon Mar 25 16:46:12 2019)
   5.24-extras           (5.24.0)            (installed on Mon Mar 25 16:50:00 2019)
   5.24-shrplib          (5.24.0)            (installed on Mon Mar 25 16:50:00 2019)
travis_fold:end:system_info[0K
travis_fold:start:docker_mtu[0Ktravis_fold:end:docker_mtu[0Ktravis_fold:start:resolvconf[0Ktravis_fold:end:resolvconf[0K
travis_fold:start:git.checkout[0Ktravis_time:start:007703c0[0K$ git clone --depth=50 https://github.com/phoenixframework/phoenix.git phoenixframework/phoenix
Cloning into 'phoenixframework/phoenix'...
remote: Enumerating objects: 808, done.[K
remote: Counting objects:   0% (1/808)   [Kremote: Counting objects:   1% (9/808)   [Kremote: Counting objects:   2% (17/808)   [Kremote: Counting objects:   3% (25/808)   [Kremote: Counting objects:   4% (33/808)   [Kremote: Counting objects:   5% (41/808)   [Kremote: Counting objects:   6% (49/808)   [Kremote: Counting objects:   7% (57/808)   [Kremote: Counting objects:   8% (65/808)   [Kremote: Counting objects:   9% (73/808)   [Kremote: Counting objects:  10% (81/808)   [Kremote: Counting objects:  11% (89/808)   [Kremote: Counting objects:  12% (97/808)   [Kremote: Counting objects:  13% (106/808)   [Kremote: Counting objects:  14% (114/808)   [Kremote: Counting objects:  15% (122/808)   [Kremote: Counting objects:  16% (130/808)   [Kremote: Counting objects:  17% (138/808)   [Kremote: Counting objects:  18% (146/808)   [Kremote: Counting objects:  19% (154/808)   [Kremote: Counting objects:  20% (162/808)   [Kremote: Counting objects:  21% (170/808)   [Kremote: Counting objects:  22% (178/808)   [Kremote: Counting objects:  23% (186/808)   [Kremote: Counting objects:  24% (194/808)   [Kremote: Counting objects:  25% (202/808)   [Kremote: Counting objects:  26% (211/808)   [Kremote: Counting objects:  27% (219/808)   [Kremote: Counting objects:  28% (227/808)   [Kremote: Counting objects:  29% (235/808)   [Kremote: Counting objects:  30% (243/808)   [Kremote: Counting objects:  31% (251/808)   [Kremote: Counting objects:  32% (259/808)   [Kremote: Counting objects:  33% (267/808)   [Kremote: Counting objects:  34% (275/808)   [Kremote: Counting objects:  35% (283/808)   [Kremote: Counting objects:  36% (291/808)   [Kremote: Counting objects:  37% (299/808)   [Kremote: Counting objects:  38% (308/808)   [Kremote: Counting objects:  39% (316/808)   [Kremote: Counting objects:  40% (324/808)   [Kremote: Counting objects:  41% (332/808)   [Kremote: Counting objects:  42% (340/808)   [Kremote: Counting objects:  43% (348/808)   [Kremote: Counting objects:  44% (356/808)   [Kremote: Counting objects:  45% (364/808)   [Kremote: Counting objects:  46% (372/808)   [Kremote: Counting objects:  47% (380/808)   [Kremote: Counting objects:  48% (388/808)   [Kremote: Counting objects:  49% (396/808)   [Kremote: Counting objects:  50% (404/808)   [Kremote: Counting objects:  51% (413/808)   [Kremote: Counting objects:  52% (421/808)   [Kremote: Counting objects:  53% (429/808)   [Kremote: Counting objects:  54% (437/808)   [Kremote: Counting objects:  55% (445/808)   [Kremote: Counting objects:  56% (453/808)   [Kremote: Counting objects:  57% (461/808)   [Kremote: Counting objects:  58% (469/808)   [Kremote: Counting objects:  59% (477/808)   [Kremote: Counting objects:  60% (485/808)   [Kremote: Counting objects:  61% (493/808)   [Kremote: Counting objects:  62% (501/808)   [Kremote: Counting objects:  63% (510/808)   [Kremote: Counting objects:  64% (518/808)   [Kremote: Counting objects:  65% (526/808)   [Kremote: Counting objects:  66% (534/808)   [Kremote: Counting objects:  67% (542/808)   [Kremote: Counting objects:  68% (550/808)   [Kremote: Counting objects:  69% (558/808)   [Kremote: Counting objects:  70% (566/808)   [Kremote: Counting objects:  71% (574/808)   [Kremote: Counting objects:  72% (582/808)   [Kremote: Counting objects:  73% (590/808)   [Kremote: Counting objects:  74% (598/808)   [Kremote: Counting objects:  75% (606/808)   [Kremote: Counting objects:  76% (615/808)   [Kremote: Counting objects:  77% (623/808)   [Kremote: Counting objects:  78% (631/808)   [Kremote: Counting objects:  79% (639/808)   [Kremote: Counting objects:  80% (647/808)   [Kremote: Counting objects:  81% (655/808)   [Kremote: Counting objects:  82% (663/808)   [Kremote: Counting objects:  83% (671/808)   [Kremote: Counting objects:  84% (679/808)   [Kremote: Counting objects:  85% (687/808)   [Kremote: Counting objects:  86% (695/808)   [Kremote: Counting objects:  87% (703/808)   [Kremote: Counting objects:  88% (712/808)   [Kremote: Counting objects:  89% (720/808)   [Kremote: Counting objects:  90% (728/808)   [Kremote: Counting objects:  91% (736/808)   [Kremote: Counting objects:  92% (744/808)   [Kremote: Counting objects:  93% (752/808)   [Kremote: Counting objects:  94% (760/808)   [Kremote: Counting objects:  95% (768/808)   [Kremote: Counting objects:  96% (776/808)   [Kremote: Counting objects:  97% (784/808)   [Kremote: Counting objects:  98% (792/808)   [Kremote: Counting objects:  99% (800/808)   [Kremote: Counting objects: 100% (808/808)   [Kremote: Counting objects: 100% (808/808), done.[K
remote: Compressing objects:   0% (1/510)   [Kremote: Compressing objects:   1% (6/510)   [Kremote: Compressing objects:   2% (11/510)   [Kremote: Compressing objects:   3% (16/510)   [Kremote: Compressing objects:   4% (21/510)   [Kremote: Compressing objects:   5% (26/510)   [Kremote: Compressing objects:   6% (31/510)   [Kremote: Compressing objects:   7% (36/510)   [Kremote: Compressing objects:   8% (41/510)   [Kremote: Compressing objects:   9% (46/510)   [Kremote: Compressing objects:  10% (51/510)   [Kremote: Compressing objects:  11% (57/510)   [Kremote: Compressing objects:  12% (62/510)   [Kremote: Compressing objects:  13% (67/510)   [Kremote: Compressing objects:  14% (72/510)   [Kremote: Compressing objects:  15% (77/510)   [Kremote: Compressing objects:  16% (82/510)   [Kremote: Compressing objects:  17% (87/510)   [Kremote: Compressing objects:  18% (92/510)   [Kremote: Compressing objects:  19% (97/510)   [Kremote: Compressing objects:  20% (102/510)   [Kremote: Compressing objects:  21% (108/510)   [Kremote: Compressing objects:  22% (113/510)   [Kremote: Compressing objects:  23% (118/510)   [Kremote: Compressing objects:  24% (123/510)   [Kremote: Compressing objects:  25% (128/510)   [Kremote: Compressing objects:  26% (133/510)   [Kremote: Compressing objects:  27% (138/510)   [Kremote: Compressing objects:  28% (143/510)   [Kremote: Compressing objects:  29% (148/510)   [Kremote: Compressing objects:  30% (153/510)   [Kremote: Compressing objects:  31% (159/510)   [Kremote: Compressing objects:  32% (164/510)   [Kremote: Compressing objects:  33% (169/510)   [Kremote: Compressing objects:  34% (174/510)   [Kremote: Compressing objects:  35% (179/510)   [Kremote: Compressing objects:  36% (184/510)   [Kremote: Compressing objects:  37% (189/510)   [Kremote: Compressing objects:  38% (194/510)   [Kremote: Compressing objects:  39% (199/510)   [Kremote: Compressing objects:  40% (204/510)   [Kremote: Compressing objects:  41% (210/510)   [Kremote: Compressing objects:  42% (215/510)   [Kremote: Compressing objects:  43% (220/510)   [Kremote: Compressing objects:  44% (225/510)   [Kremote: Compressing objects:  45% (230/510)   [Kremote: Compressing objects:  46% (235/510)   [Kremote: Compressing objects:  47% (240/510)   [Kremote: Compressing objects:  48% (245/510)   [Kremote: Compressing objects:  49% (250/510)   [Kremote: Compressing objects:  50% (255/510)   [Kremote: Compressing objects:  51% (261/510)   [Kremote: Compressing objects:  52% (266/510)   [Kremote: Compressing objects:  53% (271/510)   [Kremote: Compressing objects:  54% (276/510)   [Kremote: Compressing objects:  55% (281/510)   [Kremote: Compressing objects:  56% (286/510)   [Kremote: Compressing objects:  57% (291/510)   [Kremote: Compressing objects:  58% (296/510)   [Kremote: Compressing objects:  59% (301/510)   [Kremote: Compressing objects:  60% (306/510)   [Kremote: Compressing objects:  61% (312/510)   [Kremote: Compressing objects:  62% (317/510)   [Kremote: Compressing objects:  63% (322/510)   [Kremote: Compressing objects:  64% (327/510)   [Kremote: Compressing objects:  65% (332/510)   [Kremote: Compressing objects:  66% (337/510)   [Kremote: Compressing objects:  67% (342/510)   [Kremote: Compressing objects:  68% (347/510)   [Kremote: Compressing objects:  69% (352/510)   [Kremote: Compressing objects:  70% (357/510)   [Kremote: Compressing objects:  71% (363/510)   [Kremote: Compressing objects:  72% (368/510)   [Kremote: Compressing objects:  73% (373/510)   [Kremote: Compressing objects:  74% (378/510)   [Kremote: Compressing objects:  75% (383/510)   [Kremote: Compressing objects:  76% (388/510)   [Kremote: Compressing objects:  77% (393/510)   [Kremote: Compressing objects:  78% (398/510)   [Kremote: Compressing objects:  79% (403/510)   [Kremote: Compressing objects:  80% (408/510)   [Kremote: Compressing objects:  81% (414/510)   [Kremote: Compressing objects:  82% (419/510)   [Kremote: Compressing objects:  83% (424/510)   [Kremote: Compressing objects:  84% (429/510)   [Kremote: Compressing objects:  85% (434/510)   [Kremote: Compressing objects:  86% (439/510)   [Kremote: Compressing objects:  87% (444/510)   [Kremote: Compressing objects:  88% (449/510)   [Kremote: Compressing objects:  89% (454/510)   [Kremote: Compressing objects:  90% (459/510)   [Kremote: Compressing objects:  91% (465/510)   [Kremote: Compressing objects:  92% (470/510)   [Kremote: Compressing objects:  93% (475/510)   [Kremote: Compressing objects:  94% (480/510)   [Kremote: Compressing objects:  95% (485/510)   [Kremote: Compressing objects:  96% (490/510)   [Kremote: Compressing objects:  97% (495/510)   [Kremote: Compressing objects:  98% (500/510)   [Kremote: Compressing objects:  99% (505/510)   [Kremote: Compressing objects: 100% (510/510)   [Kremote: Compressing objects: 100% (510/510), done.[K
Receiving objects:   0% (1/808)   Receiving objects:   1% (9/808)   Receiving objects:   2% (17/808)   Receiving objects:   3% (25/808)   Receiving objects:   4% (33/808)   Receiving objects:   5% (41/808)   Receiving objects:   6% (49/808)   Receiving objects:   7% (57/808)   Receiving objects:   8% (65/808)   Receiving objects:   9% (73/808)   Receiving objects:  10% (81/808)   Receiving objects:  11% (89/808)   Receiving objects:  12% (97/808)   Receiving objects:  13% (106/808)   Receiving objects:  14% (114/808)   Receiving objects:  15% (122/808)   Receiving objects:  16% (130/808)   Receiving objects:  17% (138/808)   Receiving objects:  18% (146/808)   Receiving objects:  19% (154/808)   Receiving objects:  20% (162/808)   Receiving objects:  21% (170/808)   Receiving objects:  22% (178/808)   Receiving objects:  23% (186/808)   Receiving objects:  24% (194/808)   Receiving objects:  25% (202/808)   Receiving objects:  26% (211/808)   Receiving objects:  27% (219/808)   Receiving objects:  28% (227/808)   Receiving objects:  29% (235/808)   Receiving objects:  30% (243/808)   Receiving objects:  31% (251/808)   Receiving objects:  32% (259/808)   Receiving objects:  33% (267/808)   Receiving objects:  34% (275/808)   Receiving objects:  35% (283/808)   Receiving objects:  36% (291/808)   Receiving objects:  37% (299/808)   Receiving objects:  38% (308/808)   Receiving objects:  39% (316/808)   Receiving objects:  40% (324/808)   Receiving objects:  41% (332/808)   Receiving objects:  42% (340/808)   Receiving objects:  43% (348/808)   Receiving objects:  44% (356/808)   Receiving objects:  45% (364/808)   Receiving objects:  46% (372/808)   Receiving objects:  47% (380/808)   Receiving objects:  48% (388/808)   Receiving objects:  49% (396/808)   Receiving objects:  50% (404/808)   Receiving objects:  51% (413/808)   Receiving objects:  52% (421/808)   Receiving objects:  53% (429/808)   Receiving objects:  54% (437/808)   Receiving objects:  55% (445/808)   Receiving objects:  56% (453/808)   Receiving objects:  57% (461/808)   Receiving objects:  58% (469/808)   Receiving objects:  59% (477/808)   Receiving objects:  60% (485/808)   Receiving objects:  61% (493/808)   Receiving objects:  62% (501/808)   Receiving objects:  63% (510/808)   Receiving objects:  64% (518/808)   Receiving objects:  65% (526/808)   Receiving objects:  66% (534/808)   Receiving objects:  67% (542/808)   Receiving objects:  68% (550/808)   Receiving objects:  69% (558/808)   Receiving objects:  70% (566/808)   Receiving objects:  71% (574/808)   Receiving objects:  72% (582/808)   Receiving objects:  73% (590/808)   Receiving objects:  74% (598/808)   Receiving objects:  75% (606/808)   Receiving objects:  76% (615/808)   Receiving objects:  77% (623/808)   Receiving objects:  78% (631/808)   Receiving objects:  79% (639/808)   Receiving objects:  80% (647/808)   remote: Total 808 (delta 324), reused 478 (delta 250), pack-reused 0[K
Receiving objects:  81% (655/808)   Receiving objects:  82% (663/808)   Receiving objects:  83% (671/808)   Receiving objects:  84% (679/808)   Receiving objects:  85% (687/808)   Receiving objects:  86% (695/808)   Receiving objects:  87% (703/808)   Receiving objects:  88% (712/808)   Receiving objects:  89% (720/808)   Receiving objects:  90% (728/808)   Receiving objects:  91% (736/808)   Receiving objects:  92% (744/808)   Receiving objects:  93% (752/808)   Receiving objects:  94% (760/808)   Receiving objects:  95% (768/808)   Receiving objects:  96% (776/808)   Receiving objects:  97% (784/808)   Receiving objects:  98% (792/808)   Receiving objects:  99% (800/808)   Receiving objects: 100% (808/808)   Receiving objects: 100% (808/808), 994.01 KiB | 8.15 MiB/s, done.
Resolving deltas:   0% (0/324)   Resolving deltas:  15% (49/324)   Resolving deltas:  16% (53/324)   Resolving deltas:  22% (73/324)   Resolving deltas:  23% (75/324)   Resolving deltas:  25% (83/324)   Resolving deltas:  26% (85/324)   Resolving deltas:  28% (92/324)   Resolving deltas:  29% (96/324)   Resolving deltas:  30% (98/324)   Resolving deltas:  33% (108/324)   Resolving deltas:  34% (112/324)   Resolving deltas:  36% (117/324)   Resolving deltas:  37% (123/324)   Resolving deltas:  38% (124/324)   Resolving deltas:  40% (131/324)   Resolving deltas:  41% (133/324)   Resolving deltas:  42% (137/324)   Resolving deltas:  43% (142/324)   Resolving deltas:  44% (143/324)   Resolving deltas:  45% (147/324)   Resolving deltas:  46% (150/324)   Resolving deltas:  47% (155/324)   Resolving deltas:  48% (156/324)   Resolving deltas:  49% (161/324)   Resolving deltas:  50% (162/324)   Resolving deltas:  51% (166/324)   Resolving deltas:  52% (169/324)   Resolving deltas:  53% (173/324)   Resolving deltas:  54% (177/324)   Resolving deltas:  55% (180/324)   Resolving deltas:  56% (184/324)   Resolving deltas:  57% (185/324)   Resolving deltas:  58% (188/324)   Resolving deltas:  59% (193/324)   Resolving deltas:  64% (208/324)   Resolving deltas:  65% (211/324)   Resolving deltas:  66% (216/324)   Resolving deltas:  67% (219/324)   Resolving deltas:  68% (222/324)   Resolving deltas:  69% (226/324)   Resolving deltas:  71% (233/324)   Resolving deltas:  73% (237/324)   Resolving deltas:  74% (240/324)   Resolving deltas:  75% (244/324)   Resolving deltas:  76% (249/324)   Resolving deltas:  77% (251/324)   Resolving deltas:  78% (253/324)   Resolving deltas:  79% (256/324)   Resolving deltas:  80% (260/324)   Resolving deltas:  81% (264/324)   Resolving deltas:  82% (266/324)   Resolving deltas:  83% (270/324)   Resolving deltas:  84% (274/324)   Resolving deltas:  85% (277/324)   Resolving deltas:  86% (279/324)   Resolving deltas:  87% (282/324)   Resolving deltas:  88% (287/324)   Resolving deltas:  89% (291/324)   Resolving deltas:  91% (296/324)   Resolving deltas:  95% (308/324)   Resolving deltas:  98% (318/324)   Resolving deltas: 100% (324/324)   Resolving deltas: 100% (324/324), done.
travis_time:end:007703c0:start=1564436204730648771,finish=1564436206053592848,duration=1322944077[0K$ cd phoenixframework/phoenix
travis_time:start:1872f45c[0K$ git fetch origin +refs/pull/3502/merge:
remote: Enumerating objects: 20, done.[K
remote: Counting objects:   5% (1/20)   [Kremote: Counting objects:  10% (2/20)   [Kremote: Counting objects:  15% (3/20)   [Kremote: Counting objects:  20% (4/20)   [Kremote: Counting objects:  25% (5/20)   [Kremote: Counting objects:  30% (6/20)   [Kremote: Counting objects:  35% (7/20)   [Kremote: Counting objects:  40% (8/20)   [Kremote: Counting objects:  45% (9/20)   [Kremote: Counting objects:  50% (10/20)   [Kremote: Counting objects:  55% (11/20)   [Kremote: Counting objects:  60% (12/20)   [Kremote: Counting objects:  65% (13/20)   [Kremote: Counting objects:  70% (14/20)   [Kremote: Counting objects:  75% (15/20)   [Kremote: Counting objects:  80% (16/20)   [Kremote: Counting objects:  85% (17/20)   [Kremote: Counting objects:  90% (18/20)   [Kremote: Counting objects:  95% (19/20)   [Kremote: Counting objects: 100% (20/20)   [Kremote: Counting objects: 100% (20/20), done.[K
remote: Compressing objects:  25% (1/4)   [Kremote: Compressing objects:  50% (2/4)   [Kremote: Compressing objects:  75% (3/4)   [Kremote: Compressing objects: 100% (4/4)   [Kremote: Compressing objects: 100% (4/4), done.[K
remote: Total 11 (delta 8), reused 9 (delta 7), pack-reused 0[K
Unpacking objects:   9% (1/11)   Unpacking objects:  18% (2/11)   Unpacking objects:  27% (3/11)   Unpacking objects:  36% (4/11)   Unpacking objects:  45% (5/11)   Unpacking objects:  54% (6/11)   Unpacking objects:  63% (7/11)   Unpacking objects:  72% (8/11)   Unpacking objects:  81% (9/11)   Unpacking objects:  90% (10/11)   Unpacking objects: 100% (11/11)   Unpacking objects: 100% (11/11), done.
From https://github.com/phoenixframework/phoenix
 * branch            refs/pull/3502/merge -> FETCH_HEAD
travis_time:end:1872f45c:start=1564436206058095391,finish=1564436206675231682,duration=617136291[0K$ git checkout -qf FETCH_HEAD
travis_fold:end:git.checkout[0K

[33;1mSetting environment variables from .travis.yml[0m
$ export ELIXIR_ASSERT_TIMEOUT=2000
$ export COWBOY_VERSION=1.0

[33;1m21.0 is not installed. Downloading and installing pre-build binary.[0m
[33;1mDownloading archive: https://storage.googleapis.com/travis-ci-language-archives/erlang/binaries/ubuntu/16.04/x86_64/erlang-21.0-nonroot.tar.bz2[0m
travis_time:start:1a3034f2[0K$ wget -o ${TRAVIS_HOME}/erlang.tar.bz2 ${archive_url}
travis_time:end:1a3034f2:start=1564436206805439001,finish=1564436207168858162,duration=363419161[0Ktravis_time:start:0dd3f1a0[0K$ mkdir -p ~/otp && tar -xf erlang-21.0-nonroot.tar.bz2 -C ~/otp/
travis_time:end:0dd3f1a0:start=1564436207173017141,finish=1564436213169304502,duration=5996287361[0Ktravis_time:start:082b2b40[0K$ mkdir -p ~/.kerl
travis_time:end:082b2b40:start=1564436213173540045,finish=1564436213177644738,duration=4104693[0Ktravis_time:start:05543748[0K$ echo '21.0,21.0' >> ~/.kerl/otp_builds
travis_time:end:05543748:start=1564436213181602728,finish=1564436213187341390,duration=5738662[0Ktravis_time:start:102b7040[0K$ echo '21.0 ${TRAVIS_HOME}/otp/21.0' >> ~/.kerl/otp_builds
travis_time:end:102b7040:start=1564436213191452811,finish=1564436213194223729,duration=2770918[0Ktravis_time:start:01797164[0K$ source ${TRAVIS_HOME}/otp/21.0/activate
travis_time:end:01797164:start=1564436213199029247,finish=1564436213205427187,duration=6397940[0Ktravis_fold:start:cache.1[0KSetting up build cache
$ export CASHER_DIR=${TRAVIS_HOME}/.casher
travis_time:start:0d186dd6[0K$ Installing caching utilities
travis_time:end:0d186dd6:start=1564436214158952950,finish=1564436214462950158,duration=303997208[0Ktravis_time:start:00129e40[0Ktravis_time:end:00129e40:start=1564436214468791008,finish=1564436214472210771,duration=3419763[0Ktravis_time:start:164299d6[0Kattempting to download cache archive[0m
[32;1mfetching PR.3502/cache-linux-xenial-12e80c936f50a05df7003bc4c6c1947b55a55335378e7600f2ff88698c663c69--otp-21.0--elixir-1.8.tgz[0m
[32;1mfetching PR.3502/cache--otp-21.0--elixir-1.8.tgz[0m
[32;1mfetching master/cache-linux-xenial-12e80c936f50a05df7003bc4c6c1947b55a55335378e7600f2ff88698c663c69--otp-21.0--elixir-1.8.tgz[0m
[32;1mfound cache[0m
travis_time:end:164299d6:start=1564436214476532137,finish=1564436216465234602,duration=1988702465[0Ktravis_time:start:0244d541[0Ktravis_time:end:0244d541:start=1564436216469690843,finish=1564436216472806550,duration=3115707[0Ktravis_time:start:16885500[0Kadding /home/travis/build/phoenixframework/phoenix/assets/node_modules to cache[0m
creating directory /home/travis/build/phoenixframework/phoenix/assets/node_modules[0m
travis_time:end:16885500:start=1564436216476896319,finish=1564436218767360265,duration=2290463946[0Ktravis_fold:end:cache.1[0K
travis_fold:start:elixir[0KInstalling Elixir 1.8
travis_time:start:094f75c4[0K$ wget https://repo.hex.pm/builds/elixir/v1.8-otp-21.zip
--2019-07-29 21:36:58--  https://repo.hex.pm/builds/elixir/v1.8-otp-21.zip
Resolving repo.hex.pm (repo.hex.pm)... 151.101.2.2, 151.101.66.2, 151.101.130.2, ...
Connecting to repo.hex.pm (repo.hex.pm)|151.101.2.2|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 5144235 (4.9M) [application/zip]
Saving to: ‘v1.8-otp-21.zip’

v1.8-otp-21.zip       0%[                    ]       0  --.-KB/s               v1.8-otp-21.zip     100%[===================>]   4.91M  --.-KB/s    in 0.1s    

2019-07-29 21:36:58 (45.8 MB/s) - ‘v1.8-otp-21.zip’ saved [5144235/5144235]

travis_time:end:094f75c4:start=1564436218772447716,finish=1564436218980474189,duration=208026473[0K$ echo 'export ELIXIR_VERSION=1.8
    export PATH=${TRAVIS_HOME}/.kiex/elixirs/elixir-1.8/bin:$PATH
    export MIX_ARCHIVES=${TRAVIS_HOME}/.kiex/mix/elixir-1.8' > ${TRAVIS_HOME}/.kiex/elixirs/elixir-1.8.env
$ kiex use 1.8
Using 1.8
travis_fold:end:elixir[0K$ elixir --version
Erlang/OTP 21 [erts-10.0] [source] [64-bit] [smp:2:2] [ds:2:2:10] [async-threads:1] [hipe]

Elixir 1.8.2 (compiled with Erlang/OTP 21)
travis_fold:start:install.rebar[0Ktravis_time:start:002a61c2[0K$ mix local.rebar --force
[32m* creating [0m/home/travis/.mix/rebar[0m
[32m* creating [0m/home/travis/.mix/rebar3[0m
travis_time:end:002a61c2:start=1564436219362500558,finish=1564436220527080780,duration=1164580222[0Ktravis_fold:end:install.rebar[0Ktravis_fold:start:install.hex[0Ktravis_time:start:0fba0b79[0K$ mix local.hex --force
[32m* creating [0m/home/travis/.kiex/mix/elixir-1.8/hex-0.20.1[0m
travis_time:end:0fba0b79:start=1564436220532218019,finish=1564436221765011164,duration=1232793145[0Ktravis_fold:end:install.hex[0Ktravis_fold:start:install.deps[0Ktravis_time:start:1b24d73e[0K$ mix deps.get
* Getting phoenix_pubsub (https://github.com/phoenixframework/phoenix_pubsub.git)
remote: Enumerating objects: 67, done.        
remote: Counting objects:   1% (1/67)           remote: Counting objects:   2% (2/67)           remote: Counting objects:   4% (3/67)           remote: Counting objects:   5% (4/67)           remote: Counting objects:   7% (5/67)           remote: Counting objects:   8% (6/67)           remote: Counting objects:  10% (7/67)           remote: Counting objects:  11% (8/67)           remote: Counting objects:  13% (9/67)           remote: Counting objects:  14% (10/67)           remote: Counting objects:  16% (11/67)           remote: Counting objects:  17% (12/67)           remote: Counting objects:  19% (13/67)           remote: Counting objects:  20% (14/67)           remote: Counting objects:  22% (15/67)           remote: Counting objects:  23% (16/67)           remote: Counting objects:  25% (17/67)           remote: Counting objects:  26% (18/67)           remote: Counting objects:  28% (19/67)           remote: Counting objects:  29% (20/67)           remote: Counting objects:  31% (21/67)           remote: Counting objects:  32% (22/67)           remote: Counting objects:  34% (23/67)           remote: Counting objects:  35% (24/67)           remote: Counting objects:  37% (25/67)           remote: Counting objects:  38% (26/67)           remote: Counting objects:  40% (27/67)           remote: Counting objects:  41% (28/67)           remote: Counting objects:  43% (29/67)           remote: Counting objects:  44% (30/67)           remote: Counting objects:  46% (31/67)           remote: Counting objects:  47% (32/67)           remote: Counting objects:  49% (33/67)           remote: Counting objects:  50% (34/67)           remote: Counting objects:  52% (35/67)           remote: Counting objects:  53% (36/67)           remote: Counting objects:  55% (37/67)           remote: Counting objects:  56% (38/67)           remote: Counting objects:  58% (39/67)           remote: Counting objects:  59% (40/67)           remote: Counting objects:  61% (41/67)           remote: Counting objects:  62% (42/67)           remote: Counting objects:  64% (43/67)           remote: Counting objects:  65% (44/67)           remote: Counting objects:  67% (45/67)           remote: Counting objects:  68% (46/67)           remote: Counting objects:  70% (47/67)           remote: Counting objects:  71% (48/67)           remote: Counting objects:  73% (49/67)           remote: Counting objects:  74% (50/67)           remote: Counting objects:  76% (51/67)           remote: Counting objects:  77% (52/67)           remote: Counting objects:  79% (53/67)           remote: Counting objects:  80% (54/67)           remote: Counting objects:  82% (55/67)           remote: Counting objects:  83% (56/67)           remote: Counting objects:  85% (57/67)           remote: Counting objects:  86% (58/67)           remote: Counting objects:  88% (59/67)           remote: Counting objects:  89% (60/67)           remote: Counting objects:  91% (61/67)           remote: Counting objects:  92% (62/67)           remote: Counting objects:  94% (63/67)           remote: Counting objects:  95% (64/67)           remote: Counting objects:  97% (65/67)           remote: Counting objects:  98% (66/67)           remote: Counting objects: 100% (67/67)           remote: Counting objects: 100% (67/67), done.        
remote: Compressing objects:   2% (1/49)           remote: Compressing objects:   4% (2/49)           remote: Compressing objects:   6% (3/49)           remote: Compressing objects:   8% (4/49)           remote: Compressing objects:  10% (5/49)           remote: Compressing objects:  12% (6/49)           remote: Compressing objects:  14% (7/49)           remote: Compressing objects:  16% (8/49)           remote: Compressing objects:  18% (9/49)           remote: Compressing objects:  20% (10/49)           remote: Compressing objects:  22% (11/49)           remote: Compressing objects:  24% (12/49)           remote: Compressing objects:  26% (13/49)           remote: Compressing objects:  28% (14/49)           remote: Compressing objects:  30% (15/49)           remote: Compressing objects:  32% (16/49)           remote: Compressing objects:  34% (17/49)           remote: Compressing objects:  36% (18/49)           remote: Compressing objects:  38% (19/49)           remote: Compressing objects:  40% (20/49)           remote: Compressing objects:  42% (21/49)           remote: Compressing objects:  44% (22/49)           remote: Compressing objects:  46% (23/49)           remote: Compressing objects:  48% (24/49)           remote: Compressing objects:  51% (25/49)           remote: Compressing objects:  53% (26/49)           remote: Compressing objects:  55% (27/49)           remote: Compressing objects:  57% (28/49)           remote: Compressing objects:  59% (29/49)           remote: Compressing objects:  61% (30/49)           remote: Compressing objects:  63% (31/49)           remote: Compressing objects:  65% (32/49)           remote: Compressing objects:  67% (33/49)           remote: Compressing objects:  69% (34/49)           remote: Compressing objects:  71% (35/49)           remote: Compressing objects:  73% (36/49)           remote: Compressing objects:  75% (37/49)           remote: Compressing objects:  77% (38/49)           remote: Compressing objects:  79% (39/49)           remote: Compressing objects:  81% (40/49)           remote: Compressing objects:  83% (41/49)           remote: Compressing objects:  85% (42/49)           remote: Compressing objects:  87% (43/49)           remote: Compressing objects:  89% (44/49)           remote: Compressing objects:  91% (45/49)           remote: Compressing objects:  93% (46/49)           remote: Compressing objects:  95% (47/49)           remote: Compressing objects:  97% (48/49)           remote: Compressing objects: 100% (49/49)           remote: Compressing objects: 100% (49/49), done.        
remote: Total 1616 (delta 14), reused 54 (delta 10), pack-reused 1549        
* Getting websocket_client (https://github.com/jeremyong/websocket_client.git)
remote: Enumerating objects: 2, done.        
remote: Counting objects:  50% (1/2)           remote: Counting objects: 100% (2/2)           remote: Counting objects: 100% (2/2), done.        
remote: Compressing objects:  50% (1/2)           remote: Compressing objects: 100% (2/2)           remote: Compressing objects: 100% (2/2), done.        
remote: Total 375 (delta 0), reused 2 (delta 0), pack-reused 373        
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  cowboy 1.1.2
  cowlib 1.0.2
  gettext 0.15.0
  inch_ex 0.5.6
  jason 1.0.0
  plug_cowboy 1.0.0
  plug_crypto 1.0.0
  poison 3.1.0
  ranch 1.3.2
Upgraded:
[32m  earmark 1.2.6 => 1.3.4[31m[0m
[32m  ex_doc 0.19.1 => 0.21.1[31m (minor)[0m
[32m  makeup 0.5.5 => 1.0.0[31m (major)[0m
[32m  makeup_elixir 0.10.0 => 0.14.0[31m (minor)[0m
[32m  mime 1.3.0 => 1.3.1[31m[0m
[32m  nimble_parsec 0.4.0 => 0.5.0[31m (minor)[0m
[32m  phoenix_html 2.11.0 => 2.13.3[31m[0m
[32m  plug 1.7.0 => 1.8.3[31m[0m
New:
[32m  telemetry 0.4.0[31m[0m
* Getting plug (Hex package)
* Getting telemetry (Hex package)
* Getting plug_cowboy (Hex package)
* Getting jason (Hex package)
* Getting phoenix_html (Hex package)
* Getting ex_doc (Hex package)
* Getting inch_ex (Hex package)
* Getting gettext (Hex package)
* Getting poison (Hex package)
* Getting earmark (Hex package)
* Getting makeup_elixir (Hex package)
* Getting makeup (Hex package)
* Getting nimble_parsec (Hex package)
* Getting cowboy (Hex package)
* Getting cowlib (Hex package)
* Getting ranch (Hex package)
* Getting mime (Hex package)
* Getting plug_crypto (Hex package)
travis_time:end:1b24d73e:start=1564436221769948018,finish=1564436226689477692,duration=4919529674[0Ktravis_fold:end:install.deps[0Ktravis_fold:start:before_script.1[0Ktravis_time:start:00133fd7[0K$ mix deps.get
Resolving Hex dependencies...
Dependency resolution completed:
Unchanged:
  cowboy 1.1.2
  cowlib 1.0.2
  earmark 1.3.4
  ex_doc 0.21.1
  gettext 0.15.0
  inch_ex 0.5.6
  jason 1.0.0
  makeup 1.0.0
  makeup_elixir 0.14.0
  mime 1.3.1
  nimble_parsec 0.5.0
  phoenix_html 2.13.3
  plug 1.8.3
  plug_cowboy 1.0.0
  plug_crypto 1.0.0
  poison 3.1.0
  ranch 1.3.2
  telemetry 0.4.0
All dependencies are up to date
travis_time:end:00133fd7:start=1564436226694364096,finish=1564436227646778273,duration=952414177[0Ktravis_fold:end:before_script.1[0Ktravis_fold:start:before_script.2[0Ktravis_time:start:0b1eaca1[0K$ nvm install 6.2 && nvm use 6.2
Downloading and installing node v6.2.2...
Downloading https://nodejs.org/dist/v6.2.2/node-v6.2.2-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v6.2.2 (npm v3.9.5)
Now using node v6.2.2 (npm v3.9.5)
travis_time:end:0b1eaca1:start=1564436227651988193,finish=1564436231885122500,duration=4233134307[0Ktravis_fold:end:before_script.2[0Ktravis_time:start:0ec9a436[0K$ mix test
===> Compiling websocket_client
src/websocket_client.erl:238: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace

==> gettext
Compiling 1 file (.yrl)
Compiling 1 file (.erl)
Compiling 20 files (.ex)
Generated gettext app
===> Compiling ranch
src/ranch_ssl.erl:128: Warning: ssl:ssl_accept/2: deprecated; use ssl:handshake/2 instead

===> Compiling telemetry
==> jason
Compiling 7 files (.ex)
Generated jason app
==> phoenix_pubsub
Compiling 10 files (.ex)
Generated phoenix_pubsub app
===> Compiling cowlib
src/cow_multipart.erl:392: Warning: call to crypto:rand_bytes/1 will fail, since it was removed in 20.0; use crypto:strong_rand_bytes/1

===> Compiling cowboy
src/cowboy_websocket.erl:147: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_websocket.erl:645: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_websocket.erl:755: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace

src/cowboy_handler.erl:87: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_handler.erl:116: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_handler.erl:235: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_handler.erl:290: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace

src/cowboy_rest.erl:69: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace
src/cowboy_rest.erl:1006: Warning: erlang:get_stacktrace/0: deprecated; use the new try/catch syntax for retrieving the stack backtrace

==> mime
Compiling 2 files (.ex)
Generated mime app
==> plug_crypto
Compiling 4 files (.ex)
Generated plug_crypto app
==> plug
Compiling 1 file (.erl)
Compiling 39 files (.ex)
[33mwarning: [0mSystem.stacktrace/0 outside of rescue/catch clauses is deprecated. If you want to support only Elixir v1.7+, you must access __STACKTRACE__ inside a rescue/catch. If you want to support earlier Elixir versions, move System.stacktrace/0 inside a rescue/catch
  lib/plug/conn/wrapper_error.ex:23

Generated plug app
==> plug_cowboy
Compiling 5 files (.ex)
Generated plug_cowboy app
==> phoenix_html
Compiling 8 files (.ex)
Generated phoenix_html app
==> phoenix
Compiling 65 files (.ex)
Generated phoenix app
Excluding tags: [:cowboy2]

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m

  1) test does not log converted errors if response already sent (Phoenix.Endpoint.RenderErrorsTest)
     [1m[30mtest/phoenix/endpoint/render_errors_test.exs:146[0m
     [31mAssertion with == failed[0m
     [36mcode:  [0massert capture_log(fn -> try do
              try do
                Plug.Conn.send_resp(conn, 200, "hello")
                throw(:hello)
              catch
                kind, reason ->
                  stack = System.stacktrace()
                  opts = [view: __MODULE__, accepts: ~w"html"]
                  Phoenix.Endpoint.RenderErrors.__catch__(conn, kind, reason, stack, opts)
              else
                _ ->
                  flunk("function should have failed")
              end
            catch
              :throw, :hello ->
                :ok
            end end) == ""
     [36mleft:  [0m"\n21:37:31.096 [warn]  no configuration found for otp_app :phoenix and module Phoenix.Endpoint.EndpointTest.NoConfigEndpoint\n"
     [36mright: [0m""
     [36mstacktrace:[0m
       test/phoenix/endpoint/render_errors_test.exs:149: (test)

[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m

Finished in 17.6 seconds
[31m17 doctests, 656 tests, 1 failure, 3 excluded[0m

Randomized with seed 677163
travis_time:end:0ec9a436:start=1564436231889997141,finish=1564436265344960032,duration=33454962891[0K[31;1mThe command "mix test" exited with 1.[0m

travis_time:start:15eae8df[0K$ cd installer && elixir -S mix test
Compiling 10 files (.ex)
Generated phx_new app
[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m[32m.[0m

Finished in 1.9 seconds
[32m37 tests, 0 failures[0m

Randomized with seed 552124
travis_time:end:15eae8df:start=1564436265350335587,finish=1564436268513377131,duration=3163041544[0K[32;1mThe command "cd installer && elixir -S mix test" exited with 0.[0m

travis_time:start:04617228[0K$ cd ../assets && npm install && npm test
[37m[40mnpm[0m [0m[30m[43mWARN[0m [0m[35moptional[0m Skipping failed optional dependency /chokidar/fsevents:
[0m[37m[40mnpm[0m [0m[30m[43mWARN[0m [0m[35mnotsup[0m Not compatible with your operating system or architecture: fsevents@1.2.9
[0m
> phoenix@1.4.0 test /home/travis/build/phoenixframework/phoenix/assets
> mocha ./test/**/*.js --exit -r @babel/register -r jsdom-global/register


[0m[0m
[0m  with transport[0m
[0m    constructor[0m
    [32m  ✓[0m[90m sets defaults[0m
    [32m  ✓[0m[90m sets up joinPush objec with literal params[0m
    [32m  ✓[0m[90m sets up joinPush objec with closure params[0m
[0m    updating join params[0m
    [32m  ✓[0m[90m can update the join params[0m
[0m    join[0m
    [32m  ✓[0m[90m sets state to joining[0m
    [32m  ✓[0m[90m sets joinedOnce to true[0m
    [32m  ✓[0m[90m throws if attempting to join multiple times[0m
    [32m  ✓[0m[90m triggers socket push with channel params[0m
    [32m  ✓[0m[90m can set timeout on joinPush[0m
[0m      timeout behavior[0m
      [32m  ✓[0m[90m succeeds before timeout[0m
      [32m  ✓[0m[90m retries with backoff after timeout[0m
      [32m  ✓[0m[90m with socket and join delay[0m
      [32m  ✓[0m[90m with socket delay only[0m
[0m    joinPush[0m
[0m      receives 'ok'[0m
      [32m  ✓[0m[90m sets channel state to joined[0m
      [32m  ✓[0m[90m triggers receive('ok') callback after ok response[0m
      [32m  ✓[0m[90m triggers receive('ok') callback if ok response already received[0m
      [32m  ✓[0m[90m does not trigger other receive callbacks after ok response[0m
      [32m  ✓[0m[90m clears timeoutTimer[0m
      [32m  ✓[0m[90m sets receivedResp[0m
      [32m  ✓[0m[90m removes channel bindings[0m
      [32m  ✓[0m[90m sets channel state to joined[0m
      [32m  ✓[0m[90m resets channel rejoinTimer[0m
      [32m  ✓[0m[90m sends and empties channel's buffered pushEvents[0m
[0m      receives 'timeout'[0m
      [32m  ✓[0m[90m sets channel state to errored[0m
      [32m  ✓[0m[90m triggers receive('timeout') callback after ok response[0m
      [32m  ✓[0m[90m does not trigger other receive callbacks after timeout response[0m
      [32m  ✓[0m[90m schedules rejoinTimer timeout[0m
[0m      receives 'error'[0m
      [32m  ✓[0m[90m triggers receive('error') callback after error response[0m
      [32m  ✓[0m[90m triggers receive('error') callback if error response already received[0m
      [32m  ✓[0m[90m does not trigger other receive callbacks after error response[0m
      [32m  ✓[0m[90m clears timeoutTimer[0m
      [32m  ✓[0m[90m sets receivedResp with error trigger after binding[0m
      [32m  ✓[0m[90m sets receivedResp with error trigger before binding[0m
      [32m  ✓[0m[90m does not set channel state to joined[0m
      [32m  ✓[0m[90m does not trigger channel's buffered pushEvents[0m
[0m    onError[0m
    [32m  ✓[0m[90m sets state to 'errored'[0m
    [32m  ✓[0m[90m does not trigger redudant errors during backoff[0m
    [32m  ✓[0m[90m does not rejoin if channel leaving[0m
    [32m  ✓[0m[90m does not rejoin if channel closed[0m
    [32m  ✓[0m[90m triggers additional callbacks after join[0m
[0m    onClose[0m
    [32m  ✓[0m[90m sets state to 'closed'[0m
    [32m  ✓[0m[90m does not rejoin[0m
    [32m  ✓[0m[90m triggers additional callbacks[0m
    [32m  ✓[0m[90m removes channel from socket[0m
[0m    onMessage[0m
    [32m  ✓[0m[90m returns payload by default[0m
[0m    canPush[0m
    [32m  ✓[0m[90m returns true when socket connected and channel joined[0m
    [32m  ✓[0m[90m otherwise returns false[0m
[0m    on[0m
    [32m  ✓[0m[90m sets up callback for event[0m
    [32m  ✓[0m[90m other event callbacks are ignored[0m
    [32m  ✓[0m[90m generates unique refs for callbacks[0m
[0m    off[0m
    [32m  ✓[0m[90m removes all callbacks for event[0m
    [32m  ✓[0m[90m removes callback by its ref[0m
[0m    push[0m
    [32m  ✓[0m[90m sends push event when successfully joined[0m
    [32m  ✓[0m[90m enqueues push event to be sent once join has succeeded[0m
    [32m  ✓[0m[90m does not push if channel join times out[0m
    [32m  ✓[0m[90m uses channel timeout by default[0m
    [32m  ✓[0m[90m accepts timeout arg[0m
    [32m  ✓[0m[90m does not time out after receiving 'ok'[0m
    [32m  ✓[0m[90m throws if channel has not been joined[0m
[0m    leave[0m
    [32m  ✓[0m[90m unsubscribes from server events[0m
    [32m  ✓[0m[90m closes channel on 'ok' from server[0m
    [32m  ✓[0m[90m sets state to closed on 'ok' event[0m
    [36m  - sets state to leaving initially[0m
    [36m  - closes channel on 'timeout'[0m
    [36m  - accepts timeout arg[0m

[0m  syncState[0m
  [32m  ✓[0m[90m syncs empty state[0m
  [32m  ✓[0m[90m onJoins new presences and onLeave's left presences[0m
  [32m  ✓[0m[90m onJoins only newly added metas[0m

[0m  syncDiff[0m
  [32m  ✓[0m[90m syncs empty state[0m
  [32m  ✓[0m[90m removes presence when meta is empty and adds additional meta[0m
  [32m  ✓[0m[90m removes meta while leaving key if other metas exist[0m

[0m  list[0m
  [32m  ✓[0m[90m lists full presence by default[0m
  [32m  ✓[0m[90m lists with custom function[0m

[0m  instance[0m
  [32m  ✓[0m[90m syncs state and diffs[0m
  [32m  ✓[0m[90m applies pending diff if state is not yet synced[0m
  [32m  ✓[0m[90m allows custom channel events[0m

[0m  with transports[0m
[0m    constructor[0m
    [32m  ✓[0m[90m sets defaults[0m
    [32m  ✓[0m[90m supports closure or literal params[0m
    [32m  ✓[0m[90m overrides some defaults with options[0m
[0m      with Websocket[0m
      [32m  ✓[0m[90m defaults to Websocket transport if available[0m
[0m    protocol[0m
    [32m  ✓[0m[90m returns wss when location.protocol is https[0m
    [32m  ✓[0m[90m returns ws when location.protocol is http[0m
[0m    endpointURL[0m
    [32m  ✓[0m[90m returns endpoint for given full url[0m
    [32m  ✓[0m[90m returns endpoint for given protocol-relative url[0m
    [32m  ✓[0m[90m returns endpoint for given path on https host[0m
    [32m  ✓[0m[90m returns endpoint for given path on http host[0m
[0m    connect with WebSocket[0m
    [32m  ✓[0m[90m establishes websocket connection with endpoint[0m
    [32m  ✓[0m[90m sets callbacks for connection[0m
    [32m  ✓[0m[90m is idempotent[0m
[0m    connect with long poll[0m
    [32m  ✓[0m[90m establishes long poll connection with endpoint[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m sets callbacks for connection[0m
    [32m  ✓[0m[90m is idempotent[0m
[0m    disconnect[0m
    [32m  ✓[0m[90m removes existing connection[0m
    [32m  ✓[0m[90m calls callback[0m
    [32m  ✓[0m[90m calls connection close callback[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m does not throw when no connection[0m
[0m    connectionState[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m defaults to closed[0m
    [32m  ✓[0m[90m returns closed if readyState unrecognized[0m
    [32m  ✓[0m[90m returns connecting[0m
    [32m  ✓[0m[90m returns open[0m
    [32m  ✓[0m[90m returns closing[0m
    [32m  ✓[0m[90m returns closed[0m
[0m    channel[0m
    [32m  ✓[0m[90m returns channel with given topic and params[0m
    [32m  ✓[0m[90m adds channel to sockets channels list[0m
[0m    remove[0m
    [32m  ✓[0m[90m removes given channel from channels[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    push[0m
    [32m  ✓[0m[90m sends data to connection when connected[0m
    [32m  ✓[0m[90m buffers data when not connected[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    makeRef[0m
    [32m  ✓[0m[90m returns next message ref[0m
    [32m  ✓[0m[90m restarts for overflow[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    sendHeartbeat[0m
    [32m  ✓[0m[90m closes socket when heartbeat is not ack'd within heartbeat window[0m
    [32m  ✓[0m[90m pushes heartbeat data when connected[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m no ops when not connected[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    flushSendBuffer[0m
    [32m  ✓[0m[90m calls callbacks in buffer when connected[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m empties sendBuffer[0m
[0m    onConnOpen[0m
    [32m  ✓[0m[90m flushes the send buffer[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m resets reconnectTimer[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m triggers onOpen callback[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    onConnClose[0m
    [32m  ✓[0m[90m schedules reconnectTimer timeout if normal close[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m does not schedule reconnectTimer timeout if normal close after explicit disconnect[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m schedules reconnectTimer timeout if not normal close[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m schedules reconnectTimer timeout if connection cannot be made after a previous clean disconnect[0m
    [32m  ✓[0m[90m triggers onClose callback[0m
    [32m  ✓[0m[90m triggers channel error if joining[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m triggers channel error if joined[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m does not trigger channel error after leave[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    onConnError[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m triggers onClose callback[0m
    [32m  ✓[0m[90m triggers channel error if joining[0m
    [32m  ✓[0m[90m triggers channel error if joined[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m does not trigger channel error after leave[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    onConnMessage[0m
    [32m  ✓[0m[90m parses raw message and triggers channel event[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m triggers onMessage callback[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
[0m    custom encoder and decoder[0m
    [32m  ✓[0m[90m encodes to JSON array by default[0m
    [32m  ✓[0m[90m allows custom encoding when using WebSocket transport[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m forces JSON encoding when using LongPoll transport[0m
    [32m  ✓[0m[90m decodes JSON by default[0m
    [32m  ✓[0m[90m allows custom decoding when using WebSocket transport[0m
WebSocket connection to 'ws://example.com/socket/websocket?vsn=2.0.0' failed
    [32m  ✓[0m[90m forces JSON decoding when using LongPoll transport[0m


[92m [0m[32m 134 passing[0m[90m (541ms)[0m
[36m [0m[36m 3 pending[0m

travis_time:end:04617228:start=1564436268518220341,finish=1564436277851232638,duration=9333012297[0K[32;1mThe command "cd ../assets && npm install && npm test" exited with 0.[0m

travis_fold:start:cache.2[0Kstore build cache
travis_time:start:00996ca8[0Ktravis_time:end:00996ca8:start=1564436277856402865,finish=1564436277860395621,duration=3992756[0Ktravis_time:start:1391e834[0K[32;1mchanges detected (content changed, file is created, or file is deleted):\n/home/travis/build/phoenixframework/phoenix/assets/node_modules/.cache/@babel/register/.babel.7.5.5.development.json\n[0m
[32;1mchanges detected, packing new archive[0m
[32;1muploading PR.3502/cache-linux-xenial-12e80c936f50a05df7003bc4c6c1947b55a55335378e7600f2ff88698c663c69--otp-21.0--elixir-1.8.tgz[0m
[32;1mcache uploaded[0m
travis_time:end:1391e834:start=1564436277865074913,finish=1564436281520529542,duration=3655454629[0Ktravis_fold:end:cache.2[0K
travis_fold:start:after_script.1[0Ktravis_time:start:04dbf7f4[0K$ cd $TRAVIS_BUILD_DIR
travis_time:end:04dbf7f4:start=1564436281525719879,finish=1564436281528995043,duration=3275164[0Ktravis_fold:end:after_script.1[0Ktravis_fold:start:after_script.2[0Ktravis_time:start:3a1bf104[0K$ MIX_ENV=docs mix inch.report
==> nimble_parsec
Compiling 4 files (.ex)
Generated nimble_parsec app
==> makeup
Compiling 45 files (.ex)
Generated makeup app
===> Compiling ranch
===> Compiling telemetry
==> jason
Compiling 7 files (.ex)
Generated jason app
[33mwarning: [0mString.strip/1 is deprecated. Use String.trim/1 instead
  /home/travis/build/phoenixframework/phoenix/deps/poison/mix.exs:4

==> poison
Compiling 4 files (.ex)
[33mwarning: [0mInteger.to_char_list/2 is deprecated. Use Integer.to_charlist/2 instead
  lib/poison/encoder.ex:173

Generated poison app
==> earmark
Compiling 1 file (.yrl)
Compiling 2 files (.xrl)
Compiling 3 files (.erl)
Compiling 24 files (.ex)
Generated earmark app
==> makeup_elixir
Compiling 4 files (.ex)
Generated makeup_elixir app
==> ex_doc
Compiling 19 files (.ex)
Generated ex_doc app
==> phoenix_pubsub
Compiling 10 files (.ex)
Generated phoenix_pubsub app
===> Compiling cowlib
===> Compiling cowboy
==> mime
Compiling 2 files (.ex)
Generated mime app
==> inch_ex
Compiling 15 files (.ex)
[33mwarning: [0mKernel.to_char_list/1 is deprecated. Use Kernel.to_charlist/1 instead
  lib/inch_ex/reporter/local.ex:33

[33mwarning: [0mAtom.to_char_list/1 is deprecated. Use Atom.to_charlist/1 instead
  lib/inch_ex/docs/retriever.ex:133

[33mwarning: [0mCode.get_docs/2 is deprecated. Code.get_docs/2 always returns nil as its outdated documentation is no longer stored on BEAM files. Use Code.fetch_docs/1 instead
Found at 3 locations:
  lib/inch_ex/docs/retriever.ex:77
  lib/inch_ex/docs/retriever.ex:96
  lib/inch_ex/docs/retriever.ex:107

[33mwarning: [0mEnum.filter_map/3 is deprecated. Use Enum.filter/2 + Enum.map/2 or for comprehensions instead
Found at 2 locations:
  lib/inch_ex/docs/retriever.ex:96
  lib/inch_ex/docs/retriever.ex:202

[33mwarning: [0mKernel.to_char_list/1 is deprecated. Use Kernel.to_charlist/1 instead
  lib/inch_ex/reporter/local.ex:33

[33mwarning: [0mKernel.Typespec.beam_callbacks/1 is deprecated. Use Code.Typespec.fetch_callbacks/1 instead
  lib/inch_ex/docs/retriever.ex:100

[33mwarning: [0mKernel.Typespec.beam_specs/1 is deprecated. Use Code.Typespec.fetch_specs/1 instead
  lib/inch_ex/docs/retriever.ex:93

[33mwarning: [0mMix.Utils.camelize/1 is deprecated. Use Macro.camelize/1 instead
  lib/mix/tasks/inch.ex:35

[33mwarning: [0mString.strip/1 is deprecated. Use String.trim/1 instead
Found at 2 locations:
  lib/inch_ex/git.ex:36
  lib/inch_ex/git.ex:37

[33mwarning: [0mString.to_char_list/1 is deprecated. Use String.to_charlist/1 instead
  lib/inch_ex/reporter/remote.ex:25

Generated inch_ex app
==> plug_crypto
Compiling 4 files (.ex)
Generated plug_crypto app
==> plug
Compiling 1 file (.erl)
Compiling 39 files (.ex)
[33mwarning: [0mSystem.stacktrace/0 outside of rescue/catch clauses is deprecated. If you want to support only Elixir v1.7+, you must access __STACKTRACE__ inside a rescue/catch. If you want to support earlier Elixir versions, move System.stacktrace/0 inside a rescue/catch
  lib/plug/conn/wrapper_error.ex:23

Generated plug app
==> plug_cowboy
Compiling 5 files (.ex)
Generated plug_cowboy app
==> phoenix_html
Compiling 8 files (.ex)
Generated phoenix_html app
==> phoenix
Compiling 75 files (.ex)
Generated phoenix app
** (InchEx.Docs.Retriever.Error) module Mix.Phoenix.Context was not compiled with flag --docs
    lib/inch_ex/docs/retriever.ex:83: InchEx.Docs.Retriever.verify_module/1
    lib/inch_ex/docs/retriever.ex:72: InchEx.Docs.Retriever.get_module/2
    (elixir) lib/enum.ex:1327: Enum."-map/2-lists^map/1-0-"/2
    lib/inch_ex/docs/retriever.ex:51: InchEx.Docs.Retriever.docs_from_modules/2
    lib/inch_ex.ex:39: InchEx.generate_docs/4
    lib/mix/tasks/inch.ex:48: Mix.Tasks.Inch.run/4
    (mix) lib/mix/task.ex:331: Mix.Task.run_task/3
    (mix) lib/mix/cli.ex:79: Mix.CLI.run_task/2
travis_time:end:3a1bf104:start=1564436281533635573,finish=1564436305696868871,duration=24163233298[0Ktravis_fold:end:after_script.2[0K
Done. Your build exited with 1.
